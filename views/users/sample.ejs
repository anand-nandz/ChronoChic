<div class="row product-active-lg-4">
    <% product.forEach((productList)=> { %>
        <div class="col-lg-3 col-md-6 col-sm-6"> <!-- Adjust the column size based on your layout -->
            <div class="single-product-area mt-30">
                <div class="product-thumb">
                    <a href="/productDetails?id=<%= productList._id %>">
                        <img class="primary-image" src="/productAssets/<%= productList.images[0] %>" alt="">
                        <img class="hover-img" src="/productAssets/<%= productList.images[1] %>" alt=""> </a>
                    <!-- <div class="label-product label_new">New</div> -->
                    <div class="action-links">
                        <a href="cart.html" class="cart-btn" title="Add to Cart"><i class="icon-basket-loaded"></i></a>
                        <a href="wishlist.html" class="wishlist-btn" title="Add to Wish List"><i
                                class="icon-heart"></i></a>
                        <a href="#" class="quick-view" title="Quick View" data-bs-toggle="modal"
                            data-bs-target="#exampleModalCenter"><i class="icon-magnifier icons"></i></a>
                    </div>
                    <!-- <ul class="watch-color">
                        <li class="twilight"><span></span></li>
                        <li class="pigeon"><span></span></li>
                        <li class="portage"><span></span></li>
                    </ul> -->
                </div>
                <div class="product-caption">
                    <h4 class="product-name"><a href="product-details.html">
                            <%= productList.pname %>
                        </a></h4>
                    <div class="price-box">
                        <span class="new-price">
                            <%= productList.brand %>
                        </span>
                    </div>
                    <div class="price-box">
                        <span class="new-price">Rs <%= productList.price %></span>
                        <!-- <span class="old-price">Rs<%= productList.offprice %></span> -->
                    </div>

                </div>
            </div>
            <!-- single-product-area end -->
        </div>
        <% }); %>
</div>



















<div class="tab-pane" id="editaddress">
    <div class="container">
        <div class="row justify-content-center">
            <% address.address.forEach((address, index)=> { %>
                <div class="col-md-6 addre">
                    <div class="addAddress-form-container">
                        <div class="login-register-form">
                            <form id="editAddressForm-<%= index %>" action="/edit-address/<%= address._id %>"
                                method="post">
                                <!-- Edit address form fields -->
                                <div class="mb-3">
                                    <label for="name" class="form-label">Full Name</label>
                                    <input type="text" id="name" name="name" class="form-control"
                                        placeholder="Full Name" value="<%= address.name %>" required>
                                </div>
                                <div class="mb-3">
                                    <label for="addressType" class="form-label">Address Type</label>
                                    <select id="addressType" name="addressType" class="form-select" required>
                                        <option value="">Select Address Type</option>
                                        <option value="Home" <% if (address.addressType==='Home' ) { %> selected <% } %>
                                                >Home</option>
                                        <option value="Work" <% if (address.addressType==='Work' ) { %> selected <% } %>
                                                >Work</option>
                                        <option value="Other" <% if (address.addressType==='Other' ) { %> selected <% }
                                                %>>Other</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="city" class="form-label">City</label>
                                    <input type="text" id="city" name="city" class="form-control" placeholder="City"
                                        value="<%= address.city %>" required>
                                </div>
                                <div class="mb-3">
                                    <label for="homeAddress" class="form-label">Home Address</label>
                                    <input type="text" id="homeAddress" name="homeAddress" class="form-control"
                                        placeholder="Home Address" value="<%= address.homeAddress %>" required>
                                </div>
                                <div class="mb-3">
                                    <label for="landMark" class="form-label">Landmark</label>
                                    <input type="text" id="landMark" name="landMark" class="form-control"
                                        placeholder="Landmark" value="<%= address.landMark %>" required>
                                </div>
                                <div class="mb-3">
                                    <label for="state" class="form-label">State</label>
                                    <input type="text" id="state" name="state" class="form-control" placeholder="State"
                                        value="<%= address.state %>" required>
                                </div>
                                <div class="mb-3">
                                    <label for="pincode" class="form-label">Pincode</label>
                                    <input type="text" id="pincode" name="pincode" class="form-control"
                                        placeholder="Pincode" value="<%= address.pincode %>" required>
                                </div>
                                <div class="mb-3">
                                    <label for="phone" class="form-label">Phone</label>
                                    <input type="text" id="phone" name="phone" class="form-control" placeholder="Phone"
                                        value="<%= address.phone %>" required>
                                </div>
                                <div class="mb-3">
                                    <label for="altPhone" class="form-label">Alternate Phone</label>
                                    <input type="text" id="altPhone" name="altPhone" class="form-control"
                                        placeholder="Alternate Phone" value="<%= address.altPhone %>" required>
                                </div>
                                <!-- Add any additional fields here if needed -->

                                <div class="button-box mt-3">
                                    <button class="register-btn btn" type="submit"><span>SaveEdit
                                            Address</span></button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <% }) %>
        </div>
    </div>
</div>



















<%if (category){%>
    <% for (let i=0;i<category.length;i++){%>

        }
        }







        












        <div class="tab-pane" id="editaddress">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-6 addre">
                        <div class="addAddress-form-container">
                            <div class="login-register-form">
                                <form id="editAddressForm" action="/edit-address/<%= addressId %>" method="post">
                                    <!-- Edit address form fields -->
                                    <div class="mb-3">
                                        <label for="name" class="form-label">Full Name</label>
                                        <input type="text" id="name" name="name" class="form-control"
                                            placeholder="Full Name" value="<%= address.name %>" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="addressType" class="form-label">Address Type</label>
                                        <select id="addressType" name="addressType" class="form-select" required>
                                            <option value="">Select Address Type</option>
                                            <option value="Home" <%=address.addressType==='Home' ? 'selected' : '' %>
                                                >Home</option>
                                            <option value="Work" <%=address.addressType==='Work' ? 'selected' : '' %>
                                                >Work</option>
                                            <option value="Other" <%=address.addressType==='Other' ? 'selected' : '' %>
                                                >Other</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="city" class="form-label">City</label>
                                        <%= address.city %>
                                            <input type="text" id="city" name="city" class="form-control"
                                                placeholder="City" value="<%= address.city %>" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="homeAddress" class="form-label">Home Address</label>
                                        <input type="text" id="homeAddress" name="homeAddress" class="form-control"
                                            placeholder="Home Address" value="<%= address.homeAddress %>" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="landMark" class="form-label">Landmark</label>
                                        <input type="text" id="landMark" name="landMark" class="form-control"
                                            placeholder="Landmark" value="<%= address.landMark %>" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="state" class="form-label">State</label>
                                        <input type="text" id="state" name="state" class="form-control"
                                            placeholder="State" value="<%= address.state %>" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="pincode" class="form-label">Pincode</label>
                                        <input type="text" id="pincode" name="pincode" class="form-control"
                                            placeholder="Pincode" value="<%= address.pincode %>" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="phone" class="form-label">Phone</label>
                                        <input type="text" id="phone" name="phone" class="form-control"
                                            placeholder="Phone" value="<%= address.phone %>" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="altPhone" class="form-label">Alternate Phone</label>
                                        <input type="text" id="altPhone" name="altPhone" class="form-control"
                                            placeholder="Alternate Phone" value="<%= address.altPhone %>" required>
                                    </div>
                                    <!-- Add any additional fields here if needed -->

                                    <div class="button-box mt-3">
                                        <button class="register-btn btn" type="submit"><span>Save Edit
                                                Address</span></button>
                                    </div>
                                </form>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>







































        <form id="addressForm" action="" method="post">
            <!-- First Row (Name and Phone) -->
            <div class="form-row d-flex">
                <div class="form-group col-md-6 mb-3">
                    <label for="name" class="form-label">Full
                        Name</label>
                    <input type="text" id="name" name="name" class="form-control" placeholder="Full Name" required
                        oninput="validateName()">
                    <div id="nameError" class="error">
                    </div>
                </div>
                <div class="form-group col-md-6 mb-3 ms-3">
                    <label for="pincode" class="form-label">Pincode</label>
                    <input type="text" id="pincode" name="pincode" class="form-control" placeholder="Pincode" required
                        oninput="validatePincode()">
                    <div id="pincodeError" class="error"></div>
                </div>
            </div>
            <!-- Second Row (Alternate Phone and Pincode) -->
            <div class="form-row d-flex">
                <div class="form-group col-md-6 mb-3">
                    <label for="phone" class="form-label">Phone</label>
                    <input type="text" id="phone" name="phone" class="form-control" placeholder="Phone" required
                        oninput="validatePhone()">
                    <div id="phoneError" class="error">
                    </div>
                </div>
                <div class="form-group col-md-6 mb-3 ms-3">
                    <label for="altPhone" class="form-label">Alternate
                        Phone</label>
                    <input type="text" id="altPhone" name="altPhone" class="form-control" placeholder="Alternate Phone"
                        required oninput="validateAltPhone()">
                    <div id="altPhoneError" class="error"></div>
                </div>
            </div>
            <!-- Third Row (Landmark and City) -->
            <div class="form-row d-flex">
                <div class="form-group col-md-6 mb-3">
                    <label for="landMark" class="form-label">Landmark</label>
                    <input type="text" id="landMark" name="landMark" class="form-control" placeholder="Landmark"
                        required oninput="validateLandMark()">
                    <div id="landMarkError" class="error"></div>
                </div>
                <div class="form-group col-md-6 mb-3 ms-3">
                    <label for="city" class="form-label">City</label>
                    <input type="text" id="city" name="city" class="form-control" placeholder="City" required
                        oninput="validateCity()">
                    <div id="cityError" class="error">
                    </div>
                </div>
            </div>
            <!-- Fourth Row (State and Address Type) -->
            <div class="form-row d-flex">
                <div class="form-group col-md-6 mb-3">
                    <label for="state" class="form-label">State</label>
                    <input type="text" id="state" name="state" class="form-control" placeholder="State" required
                        oninput="validateState()">
                    <div id="stateError" class="error">
                    </div>
                </div>
                <div class="form-group col-md-6 mb-3 ms-3">
                    <label for="addressType" class="form-label">Address
                        Type</label>
                    <select id="addressType" name="addressType" class="form-select" required
                        onchange="validateAddressType()">
                        <option value="">Select Address
                            Type</option>
                        <option value="Home">Home
                        </option>
                        <option value="Work">Work
                        </option>
                        <option value="Other">Other
                        </option>
                    </select>
                    <div id="addressTypeError" class="error"></div>
                </div>
            </div>
            <!-- Fifth Row (Address) -->
            <div class="form-row">
                <div class="col-md-12 mb-3">
                    <label for="homeAddress" class="form-label">Address</label>
                    <input type="text" id="homeAddress" name="homeAddress" class="form-control"
                        placeholder="Address (Area and Street)" required oninput="validateHomeAddress()">
                    <div id="homeAddressError" class="error"></div>
                </div>
            </div>
            <!-- Button Box -->
            <div class="button-box mt-3">
                <!-- <button id="submitButton"
                                                                                    class="register-btn btn"
                                                                                    type="submit" disabled><span>Add
                                                                                        Address</span></button> -->
                <input id="submitButton" class="register-btn btn" type="submit" value="Add Address" disabled>

            </div>
        </form>














        <!-- cart ejs -->



        <tr>
            <input type="hidden" id="pdtId" name="user_id"
                value="<%=pdtData[i]._id %>">
            <td class="plantmore-product-thumbnail"><img
                    src="/productAssets/<%= pdtData[i].images[0] %>" alt="#">
            </td>
            <td class="plantmore-product-name">
                <p class="product-name"><a
                        href="/showproduct?id=<%= pdtData[i]._id %>">
                        <%= pdtData[i].name %>
                    </a></p>
            </td>
            <td class="plantmore-product-price">₹<span id="price<%=i%>">
                    <%= pdtData[i].offprice %>
                </span>
            </td>
            <td class="text-center plantmore-product-quantity"
                data-title="Stock">
                <button
                    onclick="increment('<%= pdtData[i]._id%>','1','<%=i%>','<%= pdtData[i].offprice %>','<%=cartData.items[i].subTotal %>')"
                    style="background-color: rgb(50, 134, 224);width: 50px; height: 25px; border: none; color: white; ">+</button>
                <div class="detail-qty border radius  m-auto">

                    <span id="quantity<%=i%>">
                        <%= cartData.items[i].quantity %>
                    </span>


                </div>
                <button
                    onclick="decrement('<%= pdtData[i]._id%>','1','<%=i%>','<%= pdtData[i].offprice %>','<%=cartData.items[i].subTotal %>')"
                    style="background-color: rgb(50, 134, 224);width: 50px; height: 25px; border: none; color: white; ">-</button>
            </td>
            <td class="text-right product-subtotal" data-title="Cart">₹
                <span id="subtotal<%=i%>">
                    <%= cartData.items[i].subTotal %>
                </span>
            </td>
            <td class="action plantmore-product-remove" data-title="Remove"><a
                    onclick="remove('<%=pdtData[i]._id%>','<%= i %>')"
                    class="text-muted"><i class="fa fa-trash-alt"></i></a>
            </td>
        </tr>



















        <!-- home ejs -->



        <div class="row product-active-lg-4">
            <% for (let i=4; i < Math.min(product.length, 8); i++) { %>
                <% let productList=product[i]; %>
                    <div class="col-lg-3 col-md-6 col-sm-6">
                        <!-- Adjust the column size based on your layout -->
                        <div class="single-product-area mt-30">
                            <div class="product-thumb">
                                <a href="/productDetails?id=<%= productList._id %>">
                                    <img class="primary-image"
                                        src="/productAssets/<%= productList.images[0] %>" alt="">
                                    <img class="hover-img"
                                        src="/productAssets/<%= productList.images[1] %>" alt="">
                                </a>
                                <!-- <div class="label-product label_new">New</div> -->
                                <div class="action-links">
                                    <a href="/cart" class="cart-btn" title="Add to Cart"><i
                                            class="icon-basket-loaded"></i></a>
                                    <a href="wishlist.html" class="wishlist-btn"
                                        title="Add to Wish List"><i class="icon-heart"></i></a>
                                    <a href="#" class="quick-view" title="Quick View"
                                        data-bs-toggle="modal"
                                        data-bs-target="#exampleModalCenter"><i
                                            class="icon-magnifier icons"></i></a>
                                </div>
                                <!-- <ul class="watch-color">
                                <li class="twilight"><span></span></li>
                                <li class="pigeon"><span></span></li>
                                <li class="portage"><span></span></li>
                            </ul> -->
                            </div>
                            <div class="product-caption">
                                <h4 class="product-name"><a href="product-details.html">
                                        <%= productList.pname %>
                                    </a></h4>
                                <div class="price-box">
                                    <span class="new-price">
                                        <%= productList.brand %>
                                    </span>
                                </div>
                                <div class="price-box">
                                    <span class="new-price">₹<%= productList.price %></span>
                                    <span id="offerPrice" class="old-price">₹<%= productList.offprice %></span>
                                    <span class="text-danger"><%= productList.discountPercentage %>% OFF</span>
                                </div>

                            </div>
                        </div>
                        <!-- single-product-area end -->
                    </div>
                    <% } %>
        </div>




        <div class="row product-active-lg-4">
            <% for (let i=8 ;i < Math.min(product.length, 12); i++) { %>
                <% let productList=product[i]; %>
                    <div class="col-lg-3 col-md-6 col-sm-6">
                        <!-- Adjust the column size based on your layout -->
                        <div class="single-product-area mt-30">
                            <div class="product-thumb">
                                <a href="/productDetails?id=<%= productList._id %>">
                                    <img class="primary-image"
                                        src="/productAssets/<%= productList.images[0] %>" alt="">
                                    <img class="hover-img"
                                        src="/productAssets/<%= productList.images[1] %>" alt="">
                                </a>
                                <!-- <div class="label-product label_new">New</div> -->
                                <div class="action-links">
                                    <a href="cart.html" class="cart-btn" title="Add to Cart"><i
                                            class="icon-basket-loaded"></i></a>
                                    <a href="wishlist.html" class="wishlist-btn"
                                        title="Add to Wish List"><i class="icon-heart"></i></a>
                                    <a href="#" class="quick-view" title="Quick View"
                                        data-bs-toggle="modal"
                                        data-bs-target="#exampleModalCenter"><i
                                            class="icon-magnifier icons"></i></a>
                                </div>
                                <!-- <ul class="watch-color">
                                <li class="twilight"><span></span></li>
                                <li class="pigeon"><span></span></li>
                                <li class="portage"><span></span></li>
                            </ul> -->
                            </div>
                            <div class="product-caption">
                                <h4 class="product-name"><a href="product-details.html">
                                        <%= productList.pname %>
                                    </a></h4>
                                <div class="price-box">
                                    <span class="new-price">
                                        <%= productList.brand %>
                                    </span>
                                </div>
                                <div class="price-box">
                                    <span class="new-price">₹<%= productList.price %></span>
                                    <span id="offerPrice" class="old-price">₹<%= productList.offprice %></span>
                                    <span class="text-danger"><%= productList.discountPercentage %>% OFF</span>
                                </div>

                            </div>
                        </div>
                        <!-- single-product-area end -->
                    </div>
                    <% } %>
        </div>
